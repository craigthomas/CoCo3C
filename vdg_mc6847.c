/**
 * Copyright (C) 2013 Craig Thomas
 * This project uses an MIT style license - see the LICENSE file for details.
 *
 * @file     vdg_mc6847.c
 * @brief    Functions to run the Video Display Generator 
 * @author   Craig Thomas
 *
 * Emulates the Motorola 6847 video display generator. Note that this is
 * not a cycle for cycle diplicate of the MC6847, but rather, enough of a
 * similar set of functions to be used as a snap in module. Note as well 
 * that the functions for the VDG have been extended to include the 
 * advanced options available by the Color Computer 3's GIME (AVCV) chip.
 */

/* I N C L U D E S *******************************************************/

#include <stdio.h>
#include <malloc.h>
#include "yacoco3e.h"

/* L O C A L S ***********************************************************/

#define VDG_GREEN      0
#define VDG_YELLOW     1
#define VDG_BLUE       2
#define VDG_RED        3
#define VDG_WHITE      4
#define VDG_CYAN       5
#define VDG_MAGENTA    6     /**< Defines MAGENTA color */
#define VDG_ORANGE     7     /**< Defines ORANGE color */
#define VDG_BLACK      8     /**< Defines BLACK color */

#define SG4_CHAR_WIDTH  8
#define SG4_CHAR_HEIGHT 12
#define SG4_NUM_CHARS   64

int vdg_red[] =   {40,  240, 32,  168, 240, 40,  211, 240, 0};
int vdg_green[] = {224, 240, 32,  32,  240, 168, 97,  136, 0};
int vdg_blue[] =  {40,  112, 216, 32,  240, 168, 250, 40,  0};

int sg4_characters[SG4_NUM_CHARS][SG4_CHAR_HEIGHT][SG4_CHAR_WIDTH] = 
    {
        { 
            /* @ - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 1, 1, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 1, 1, 0 },
           { 0, 0, 1, 0, 0, 1, 1, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* A - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 1, 0, 1, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 1, 1, 1, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* B - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 1, 1, 1, 0, 0 },
           { 0, 0, 0, 1, 0, 0, 1, 0 },
           { 0, 0, 0, 1, 0, 0, 1, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 0, 1, 0, 0, 1, 0 },
           { 0, 0, 0, 1, 0, 0, 1, 0 },
           { 0, 0, 1, 1, 1, 1, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* C - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* D - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 1, 1, 1, 0, 0 },
           { 0, 0, 0, 1, 0, 0, 1, 0 },
           { 0, 0, 0, 1, 0, 0, 1, 0 },
           { 0, 0, 0, 1, 0, 0, 1, 0 },
           { 0, 0, 0, 1, 0, 0, 1, 0 },
           { 0, 0, 0, 1, 0, 0, 1, 0 },
           { 0, 0, 1, 1, 1, 1, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* E - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 1, 1, 1, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 1, 1, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 1, 1, 1, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* F - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 1, 1, 1, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 1, 1, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* G - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 1, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* H - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 1, 1, 1, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* I - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* J - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* K - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 1, 0, 0 },
           { 0, 0, 1, 0, 1, 0, 0, 0 },
           { 0, 0, 1, 1, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 1, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 1, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* L - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 1, 1, 1, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* M - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 1, 0, 1, 1, 0 },
           { 0, 0, 1, 0, 1, 0, 1, 0 },
           { 0, 0, 1, 0, 1, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* N - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 1, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 1, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 1, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* O - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* P - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 1, 1, 1, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 1, 1, 1, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* Q - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 1, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 1, 0, 0 },
           { 0, 0, 0, 1, 1, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* R - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 1, 1, 1, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 1, 1, 1, 0, 0 },
           { 0, 0, 1, 0, 1, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 1, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* S - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* T - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 1, 1, 1, 1, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* U - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* V - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 1, 0, 1, 0, 0 },
           { 0, 0, 0, 1, 0, 1, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* W - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 1, 0, 1, 0 },
           { 0, 0, 1, 1, 0, 1, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* X - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 1, 0, 1, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 1, 0, 1, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* Y - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 1, 0, 1, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* Z - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 1, 1, 1, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 1, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 1, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 1, 1, 1, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* [ - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 1, 1, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 1, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* \ - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 1, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 1, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* ] - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 1, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 1, 1, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* UP - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 1, 0, 1, 0, 1, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* DOWN - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 1, 0, 1, 0, 1, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* SPACE - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* ! - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* " - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 1, 0, 1, 0, 0 },
           { 0, 0, 0, 1, 0, 1, 0, 0 },
           { 0, 0, 0, 1, 0, 1, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* # - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 1, 0, 1, 0, 0 },
           { 0, 0, 0, 1, 0, 1, 0, 0 },
           { 0, 0, 1, 1, 1, 1, 1, 0 },
           { 0, 0, 0, 1, 0, 1, 0, 0 },
           { 0, 0, 1, 1, 1, 1, 1, 0 },
           { 0, 0, 0, 1, 0, 1, 0, 0 },
           { 0, 0, 0, 1, 0, 1, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* $ - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 1, 1, 1, 1, 0 },
           { 0, 0, 1, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 1, 0 },
           { 0, 0, 1, 1, 1, 1, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* % - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 1, 0, 0, 0, 0 },
           { 0, 0, 1, 1, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 1, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 1, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 1, 1, 0 },
           { 0, 0, 0, 0, 0, 1, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* & - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 1, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 1, 0, 0, 0 },
           { 0, 0, 1, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 1, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 1, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 1, 0, 0 },
           { 0, 0, 0, 1, 1, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* ' - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 1, 0, 0, 0, 0 },
           { 0, 0, 0, 1, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* ( - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 1, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 1, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* ) - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 1, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 1, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* * - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 1, 0, 1, 0, 1, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 1, 0, 1, 0, 1, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* + - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 1, 1, 1, 1, 1, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* , - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 1, 0, 0, 0, 0 },
           { 0, 0, 0, 1, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* - - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 1, 1, 1, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* . - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* / - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 1, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 1, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* 0 - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 1, 1, 0 },
           { 0, 0, 1, 0, 1, 0, 1, 0 },
           { 0, 0, 1, 1, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* 1 - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 1, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* 2 - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 1, 1, 1, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* 3 - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 1, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* 4 - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 1, 0, 0 },
           { 0, 0, 0, 0, 1, 1, 0, 0 },
           { 0, 0, 0, 1, 0, 1, 0, 0 },
           { 0, 0, 1, 0, 0, 1, 0, 0 },
           { 0, 0, 1, 1, 1, 1, 1, 0 },
           { 0, 0, 0, 0, 0, 1, 0, 0 },
           { 0, 0, 0, 0, 0, 1, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* 5 - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 1, 1, 1, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 1, 1, 1, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* 6 - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 1, 1, 1, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* 7 - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 1, 1, 1, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 1, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 1, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* 8 - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* 9 - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 1, 1, 1, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* : - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* ; - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 1, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* < - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 1, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 1, 0, 0, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 1, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 1, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* = - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 1, 1, 1, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 1, 1, 1, 1, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* > - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 1, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 1, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 1, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 1, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }, { 
            /* ? - inverse */
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 1, 1, 1, 0, 0 },
           { 0, 0, 1, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 0, 1, 0 },
           { 0, 0, 0, 0, 0, 1, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 1, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
           { 0, 0, 0, 0, 0, 0, 0, 0 },
        }
    };

/* F U N C T I O N S *********************************************************/

/**
 * @brief Initialize the video display generator
 */
void 
vdg_init(void)
{
}

/*****************************************************************************/

/**
 * @brief Prints a single pixel on the display
 *
 * Print a pixel on the screen at the specified x and y location with the 
 * specified color value.
 *
 * @param [in] x the x location of the pixel
 * @param [in] y the y location of the pixel
 * @param [in] val the color value of the pixel
 */
inline void 
vdg_print_pixel(int x, int y, int val)
{
    screen_draw(x, y, vdg_red[val], vdg_green[val], vdg_blue[val]);
}

/*****************************************************************************/

/**
 * @brief Prints an entire line of pixels on the screen
 *
 * Print a line of pixels on the screen at the specified x and y location.
 *
 * @param [in] x the x location of the pixel
 * @param [in] y the y location of the pixel
 * @param [in] on_val the color of the pixels turned on
 * @param [in] off_val the color of the pixels turned off
 */
inline void 
vdg_print_pixel_line(int x, int y, int index, int on, int off)
{
    int row, col;

    for (row = 0; row < SG4_CHAR_HEIGHT; row++) {
        for (col = 0; col < SG4_CHAR_WIDTH; col++) {
            if (sg4_characters[index][row][col]) {
                screen_draw(x + col, y + row, vdg_red[on], vdg_green[on], vdg_blue[on]);
            }
            else {
                screen_draw(x + col, y + row, vdg_red[off], vdg_green[off], vdg_blue[off]);
            }
        }
    }
} 

/*****************************************************************************/

/**
 * @brief Prints a semi-graphics 4 character on the screen
 *
 * Print the specified semi-graphics 4 character on the screen in the 
 * specified row and column.
 *
 * @param [in] value the character number to write
 * @param [in] col the column to print in
 * @param [in] row the row to print in
 */
void 
vdg_sg4_print_character(byte value, int col, int row)
{
    int x, y;

    x = 32 + (col * 8);
    y = 25 + (row * 12);

    if (value < SG4_NUM_CHARS) { 
        vdg_print_pixel_line(x, y, value, VDG_GREEN, VDG_BLACK);
    }
    else if (value - 64 < SG4_NUM_CHARS) {
        vdg_print_pixel_line(x, y, value - 64, VDG_BLACK, VDG_GREEN);
    }
}

/*****************************************************************************/

/**
 * @brief Refresh the screen
 *
 * Refreshes the screen.
 */
void 
vdg_refresh(void)
{
    int x, y;
    word ptr;
    byte value;

    if (screen_low_res_enabled) {
        switch (screen_vdg_old_mode)  {

            /* SG4: Semigraphics 4 */
            case 0:
                for (x = 0; x < 320; x++) {
                    for (y = 0; y < 240; y++) {

                        /* Draw the border */                        
                        if (y <= 24 || y > 216) {
                            screen_draw(x, y, 
                                        vdg_red[VDG_BLACK], 
                                        vdg_green[VDG_BLACK], 
                                        vdg_blue[VDG_BLACK]);
                        }
                        else {
                            /* Draw the border */
                            if (x < 32 || x >= 288) {
                                screen_draw (x, y, 
                                             vdg_red[VDG_BLACK], 
                                             vdg_green[VDG_BLACK], 
                                             vdg_blue[VDG_BLACK]);
                            }
                            else {
                                /* Green foreground */
                                screen_draw (x, y, 
                                             vdg_red[VDG_GREEN], 
                                             vdg_green[VDG_GREEN], 
                                             vdg_blue[VDG_GREEN]);
                            }
                        }
                    }
                }

                /* Print out the values found in video memory at the correct locations */
                ptr.WORD = screen_memory_ptr.WORD;
                for ( y = 0; y < 16; y++ ) {
                    for( x = 0; x < 32; x++ ) {
                        value = memory_read(ptr);
                        vdg_sg4_print_character( value, x, y );
                        ptr.WORD++;
                    }
                }
                break;
        }
    }
}

/* E N D   O F   F I L E *****************************************************/
